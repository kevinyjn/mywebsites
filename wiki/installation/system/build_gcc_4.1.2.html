<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Jining Park</title>
    <link rel="stylesheet" type="text/css" href="../../styles/style_wiki.css" />
</head>

<body>
<div class="main_body" align="center">
    
<div class="wiki_title">
    <h2>编译安装 gcc-4.1.2 (gcc 降版本)</h2>

</div>

<div class="wiki_content">
    <h4>下载 gcc-4.1.2</h4>
    <p><a href="ftp://ftp.gnu.org/gnu/gcc/gcc-4.1.2/gcc-4.1.2.tar.bz2">gcc-4.1.2.tar.bz2</a></p>
    <p><a href="http://ftp.gnu.org/gnu/gcc/gcc-4.1.2/gcc-g++-4.1.2.tar.bz2">gcc-g++-4.1.2.tar.bz2</a></p>
    <h4>configure</h4>
    <p>默认configure安装在/usr/local下</p>
    </h4>make</h4>
    </h4>make install</h4>
    
    </h4>build gcc4.1.2两个错误及修正</h4>
    <h4>1.</h4>
    <pre>WARNING: `makeinfo' is missing on your system. You should only need it if
you modified a `.texi' or `.texinfo' file, or any other file
indirectly affecting the aspect of the manual. The spurious
call might also be the consequence of using a buggy `make' (AIX,
DU, IRIX). You might want to install the `Texinfo' package or
the `GNU make' package. Grab either from any GNU archive site.
make[3]: *** [fastjar.info] 错误 1
make[3]:正在离开目录 `/home/ssm/gcc-obj/fastjar'
make[2]: *** [all] 错误 2
make[2]:正在离开目录 `/home/ssm/gcc-obj/fastjar'
make[1]: *** [all-fastjar] 错误 2
make[1]:正在离开目录 `/home/ssm/gcc-obj'
make: *** [all] 错误 2</pre>
    <h4>解读错误与解决方法：</h4>
    <p>（主要原因是GCC的版本过高）</p>
    <p>因为gcc4.1以上的版本需要makeinfo的版本为4.2或更高。</p>
    <p>可以到<a href="http://ftp.gnu.org/gnu/texinfo/">texinfo</a>站点下载最新版texinfo，解压后configure;make;make install</p>
    <p>安装后makeinfo --version可以看到最新版本号。如果make gcc的时候仍然提示makeinfo is missing，则用 make MAKEINFO='makeinfo'</p>
    <h4>2.</h4>
    <p>/usr/include/gnu/stubs.h:7:27: error: gnu/stubs-32.h: No such file or directory</p>
    <p>解决方案： 在 CC="gcc -B/usr/bin/" ../gcc-4.1.2/configure 后加上 --disable-multilib</p>
    
</div>

</div>
<!-- Content end -->

</div>
</body>
</html>
